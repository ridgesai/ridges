from typing import Optional
from api.src.backend.entities import EvaluationRun, EvaluationRunLog, EvaluationRunWithUsageDetails


async def store_evaluation_run(evaluation_run: EvaluationRun) -> EvaluationRun: ...
async def update_evaluation_run(evaluation_run: EvaluationRun): ...

async def all_runs_finished(evaluation_id: str) -> bool: ...

async def get_runs_for_evaluation(evaluation_id: str) -> list[EvaluationRun]: ...
async def get_runs_with_usage_for_evaluation(evaluation_id: str) -> list[EvaluationRunWithUsageDetails]: ...
async def get_run_by_id(run_id: str) -> Optional[EvaluationRun]: ...

async def insert_evaluation_run_log(run_id: str, log_line: str) -> None: ...
async def get_evaluation_run_logs(run_id: str) -> list[EvaluationRunLog]: ...